<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="Calorie.css" />
    <link rel="stylesheet" href="responsive.css" />
    <script src="https://kit.fontawesome.com/1a4ebbd5fe.js" crossorigin="anonymous"></script>

    <script src="script.js"></script>
    <title>Document</title>
  </head>
  <body>
    <nav>
      <input id="nav-toggle" type="checkbox" />
      <div class="logo">GYM<strong>BRO</strong></div>
      <ul class="links">
        <li><a href="index.html">Home</a></li>
        <li><a href="WorkoutPlans.html">Workout plans</a></li>
        <li><a href="FormGuide.html">Form guide</a></li>
        <li><a href="#Calorie Tracker">Calorie tracker</a></li>
        <li><a href="ContactUs.html">Contact</a></li>
      </ul>
      <label for="nav-toggle" class="icon-burger">
        <div class="line"></div>
        <div class="line"></div>
        <div class="line"></div>
      </label>
    </nav>
    <div class="container" id="calc-outer-wrap">
      <div id="forme" style="display:none;"></div>
      <div class="grid">
      <h2>Calorie Calculator</h2>
                <form class = "menu" id = "menu">
                    <div id="FormItems">
                        <select name="list" id="menu">
                            <option value="1.3">Rice</option>
                            <option value="2.64">Bread</option>
                            <option value="0.77">Potato</option>
                            <option value="1.92">Tempe</option>
                            <option value="0.76">Tofu</option>
                            <option value="2.5">Beef</option>
                            <option value="2.39">Chicken</option>
                            <option value="1.32">Tuna</option>
                            <option value="2.08">Salmon</option>
                            <option value="5.53">Cashews</option>
                            <option value="2.42">Pork</option>
                            <option value="0.89">Banana</option>
                            <option value="2">Avocado</option>
                            <option value="1.55">Eggs</option>
                            <option value="4">Oats</option>
                            <option value="0.4">Coca cola</option>
                            <option value="0.39">Sprite</option>
                            <option value="0.42">Milk</option>
                        </select>
                        <input name="gram" id="gram" type="number" placeholder=" gram (g/grams)" min="1">
                        <div class="btn-wrap field-outer">
                    <button class="form-submit" onclick="count()">Calculate</button>
                  </div>
                  </div>
                </form>
                <div id="results" style="display:none;"></div>
      </div>
            </div>
      <script>
          function count(){
              const form = document.getElementById("menu")
              const results = document.getElementById("results")
              const errors = document.getElementById("forme")

              function showResults(calories) {
                  results.innerHTML = `<p class="resultsf">Calories: ${(calories).toFixed(2)} calories.</p>`;
                  results.style.display = ''
              }
              function resetForm(e) {
              if(e.target.id = 'rs') {
                  e.preventDefault();
                  results.style.display = 'none';
                  form.style.display = '';
                  form.reset()
              }
              }
              function errorprompt(msg) {
                  errors.innerHTML = msg;
                  setTimeout(function(){
                  $(errors).remove();
                  }, 2000);
                  errors.style.display = '';
                  return false;
              }

              function submitstate(e) {
                  e.preventDefault();
                  let gram = parseFloat(form.gram.value)
                  if(isNaN(gram) || gram < 0) {
                      return errorprompt('Not a valid number!');
                  }

                  let calories = 0;

                  calories= gram*parseFloat(form.list.value);
                  showResults(calories);
              }
              form.addEventListener('submit', submitstate);
              results.addEventListener('click', resetForm, true);
          };
      </script>
  </body>
</html>
